# Quick Start Guide: Interactive Tools Filter Page

**Feature**: `002-tools-filter`  
**Date**: 2025-10-31  
**For**: Developers implementing or maintaining the tools filter feature

## Overview

This guide helps you get the interactive tools filter page up and running in your local development environment and understand how to make changes.

## Prerequisites

- **Node.js 18+** and npm installed
- **Ruby 3.x** and Bundler installed (for Jekyll)
- **Git** for version control
- Text editor or IDE (VS Code recommended)

## Quick Start (5 minutes)

### 1. Install Dependencies

```bash
# Install Jekyll dependencies
bundle install

# Install TypeScript compiler
npm install
```

### 2. Build TypeScript

```bash
# Compile TypeScript to JavaScript (one-time)
npm run build

# Or run in watch mode for development
npm run watch
```

### 3. Start Jekyll Server

```bash
bundle exec jekyll serve
```

### 4. View the Page

Open your browser to:

```
http://localhost:4000/qa-tools.html
```

You should see:
- List of 58 tools loaded from `data/tools.json`
- Filter controls: category dropdown, type dropdown, boolean checkboxes, search box
- "Clear All Filters" button

### 5. Test Filtering

Try these actions:

1. **Category Filter**: Select "SAST/DAST" from category dropdown → see only security tools
2. **Search**: Type "GitHub" in search box → see only tools with "GitHub" in name
3. **Boolean Filter**: Check "Is Microsoft" → see only Microsoft tools
4. **Combined Filters**: Select category + check boolean → see tools matching both
5. **Clear All**: Click "Clear All Filters" → see all 58 tools again

---

## Project Structure

```
publish/                              # Repository root
├── qa-tools.html                     # Main filter page (Jekyll page)
├── data/
│   └── tools.json                    # Tool data (generated by Feature 001)
├── assets/
│   └── js/
│       ├── src/                      # TypeScript source files
│       │   ├── types.ts              # Type definitions (Tool, FilterState)
│       │   ├── data-loader.ts        # Fetch and parse tools.json
│       │   ├── filter-logic.ts       # Filter algorithm implementation
│       │   ├── ui-renderer.ts        # DOM manipulation for displaying tools
│       │   ├── filter-controls.ts    # Event handlers for filter UI
│       │   └── main.ts               # Entry point, wires everything together
│       └── dist/                     # Compiled JavaScript (generated)
│           └── main.js               # Compiled output loaded by qa-tools.html
├── specs/002-tools-filter/           # Feature documentation
│   ├── spec.md                       # Feature specification
│   ├── plan.md                       # This implementation plan
│   ├── research.md                   # Technology decisions
│   ├── data-model.md                 # Data structures and logic
│   ├── quickstart.md                 # This guide
│   ├── tasks.md                      # Implementation task breakdown
│   └── contracts/
│       └── tools-json-contract.md    # Data contract
├── package.json                      # npm dependencies and scripts
├── tsconfig.json                     # TypeScript compiler configuration
└── .github/
    └── workflows/
        └── build.yml                 # CI/CD with TypeScript compilation
```

---

## Development Workflow

### Making Changes to Filter Logic

1. Edit TypeScript files in `assets/js/src/`
2. Run `npm run watch` (auto-recompiles on save)
3. Refresh browser to see changes
4. Test filter behavior manually

### Adding a New Filter Field

Example: Add "Maturity" filter

1. **Update HTML** (`qa-tools.html`): Add new dropdown
   ```html
   <select id="maturity-filter">
     <option value="">All Maturity Levels</option>
     <option value="High">High</option>
     <option value="Medium">Medium</option>
     <option value="Low">Low</option>
   </select>
   ```

2. **Update FilterState** (`types.ts`): Add field
   ```typescript
   interface FilterState {
     // ... existing fields
     selectedMaturity: string | null;
   }
   ```

3. **Update Filter Logic** (`filter-logic.ts`): Add condition
   ```typescript
   if (state.selectedMaturity !== null && tool.Maturity !== state.selectedMaturity) {
     return false;
   }
   ```

4. **Update Event Handler** (`filter-controls.ts`): Wire up dropdown
   ```typescript
   document.getElementById('maturity-filter')?.addEventListener('change', (e) => {
     filterState.selectedMaturity = (e.target as HTMLSelectElement).value || null;
     applyFilters();
   });
   ```

5. **Test**: Compile, refresh, verify filter works

### Updating Styles

The page inherits styles from the Jekyll theme. To customize:

1. Edit `assets/css/style.css` (or create if doesn't exist)
2. Add custom classes for filter page
3. Override theme defaults as needed
4. Test responsive design (mobile, tablet, desktop)

### Testing Changes

**Manual Testing Checklist**:

- [ ] All 58 tools display on page load
- [ ] Category filter reduces results correctly
- [ ] Type filter reduces results correctly
- [ ] Boolean filters work individually and combined
- [ ] Search is case-insensitive
- [ ] Clear All button resets all filters
- [ ] No console errors in DevTools
- [ ] Page works in Chrome, Firefox, Safari, Edge
- [ ] Responsive layout works on mobile, tablet, desktop

**Browser DevTools Tips**:

- **Console**: Check for JavaScript errors or warnings
- **Network**: Verify `tools.json` loads (Status 200, ~62KB)
- **Performance**: Verify filter operations take <100ms
- **Responsive Design Mode**: Test mobile layouts

---

## Common Tasks

### Update Tools Data

**DON'T**: Edit `data/tools.json` directly (it's generated)

**DO**: Edit the Excel file and let the automation regenerate JSON

1. Update Excel file in `data/` directory
2. Commit and push Excel file
3. GitHub Actions regenerates `tools.json` automatically
4. Pull latest changes to get new JSON

### Add New Tool to Display

Same as above - edit Excel file, not JSON.

### Fix Display Issues

1. Check browser DevTools console for errors
2. Verify `tools.json` structure matches TypeScript interface
3. Check that filter logic handles null values correctly
4. Test with different data (add mock tool to JSON temporarily)

### Improve Performance

Current performance (58 tools):
- Page load: <2s
- Filter operation: <100ms

If dataset grows to 200+ tools:
- Consider pagination (show 50 tools per page)
- Consider virtual scrolling (render only visible items)
- Consider Web Workers for filtering (offload from main thread)

---

## Troubleshooting

### "TypeScript compile errors"

**Symptom**: `npm run build` fails with type errors

**Solution**:
1. Check TypeScript version: `npx tsc --version` (should be 5.x)
2. Verify `tsconfig.json` is present
3. Check for syntax errors in `.ts` files
4. Run `npm install` to ensure dependencies are installed

### "Tools not loading"

**Symptom**: Page shows "Loading..." forever

**Solution**:
1. Check browser console for fetch errors
2. Verify `data/tools.json` exists and is valid JSON
3. Check Network tab in DevTools for HTTP status
4. Verify fetch URL is correct (`/data/tools.json`)

### "Filters not working"

**Symptom**: Selecting filter has no effect

**Solution**:
1. Check browser console for JavaScript errors
2. Verify compiled `main.js` is loaded (check Network tab)
3. Check that event listeners are attached (add `console.log` statements)
4. Verify filter state is updating (inspect in debugger)

### "Page layout broken"

**Symptom**: Tools overlap, filters misaligned

**Solution**:
1. Check CSS is loading (inspect element in DevTools)
2. Verify Jekyll theme is installed: `bundle exec jekyll doctor`
3. Test responsive breakpoints in different viewport sizes
4. Check for CSS conflicts with theme styles

---

## Configuration

### TypeScript Configuration (`tsconfig.json`)

```json
{
  "compilerOptions": {
    "target": "ES2015",           // Modern browsers support
    "module": "ES6",              // Use ES6 modules
    "outDir": "./assets/js/dist", // Output directory
    "rootDir": "./assets/js/src", // Source directory
    "strict": true,               // Enable all strict type checks
    "esModuleInterop": true,      // Better CommonJS compatibility
    "skipLibCheck": true,         // Skip lib checking for faster builds
    "forceConsistentCasingInFileNames": true
  },
  "include": ["assets/js/src/**/*"],
  "exclude": ["node_modules", "assets/js/dist"]
}
```

### npm Scripts (`package.json`)

```json
{
  "scripts": {
    "build": "tsc",                          // Compile TypeScript once
    "watch": "tsc --watch",                  // Compile on file changes
    "clean": "rm -rf assets/js/dist/*"       // Remove compiled files
  },
  "devDependencies": {
    "typescript": "^5.0.0"
  }
}
```

### Jekyll Configuration (`.github/workflows/build.yml`)

Ensure TypeScript compilation runs before Jekyll build:

```yaml
- name: Install Node.js
  uses: actions/setup-node@v3
  with:
    node-version: '18'

- name: Install npm dependencies
  run: npm install

- name: Compile TypeScript
  run: npm run build

- name: Build Jekyll site
  run: bundle exec jekyll build
```

---

## Deployment

### Automated Deployment (Recommended)

1. Make changes in feature branch
2. Create Pull Request
3. Review and merge to `main`
4. GitHub Actions automatically:
   - Installs dependencies
   - Compiles TypeScript
   - Builds Jekyll site
   - Deploys to GitHub Pages

### Manual Deployment (Emergency Only)

```bash
# Compile TypeScript
npm run build

# Build Jekyll site
bundle exec jekyll build

# Output is in _site/ directory
# Upload to web server or push to gh-pages branch
```

---

## Next Steps

- **Implement Feature**: Follow task breakdown in `tasks.md`
- **Understand Logic**: Review filter algorithm in `data-model.md`
- **Explore Code**: Read TypeScript files in `assets/js/src/`
- **Test Feature**: Use acceptance scenarios from `spec.md`

---

## Support

- **Documentation**: See `specs/002-tools-filter/` directory
- **Feature Spec**: `specs/002-tools-filter/spec.md`
- **Data Model**: `specs/002-tools-filter/data-model.md`
- **Architecture**: `specs/002-tools-filter/plan.md`

For questions or issues, review the specification documents or check the implementation code in `assets/js/src/`.
